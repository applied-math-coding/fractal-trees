(function(e){function t(t){for(var a,o,i=t[0],l=t[1],s=t[2],d=0,b=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(b.length)b.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/fractal-trees/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"86e0":function(e,t,n){"use strict";n("be4c")},b7f7:function(e,t,n){"use strict";n("c479")},be4c:function(e,t,n){},c479:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(e,t,n,r,c,o){var i=Object(a["n"])("FractalTrees");return Object(a["i"])(),Object(a["b"])(i)}var c=Object(a["s"])("data-v-edf9c59a");Object(a["k"])("data-v-edf9c59a");var o={class:"content-container"},i={class:"canvas-container"},l={ref:"canvas",width:"800",height:"500"},s={class:"action-header"},u={class:"action-toggle"},d={key:0,class:"actions"},b={class:"closing-link"},h=Object(a["e"])("div",{class:"main-title"},"Fractal Tree",-1),p={class:"options"},m={class:"option"},f=Object(a["e"])("div",{class:"option-label"},"Branches:",-1),v={class:"option"},O=Object(a["e"])("div",{class:"option-label"},"Levels:",-1),j={class:"option"},g=Object(a["e"])("div",{class:"option-label"},"Shrinking factor:",-1),y={class:"option"},w=Object(a["e"])("div",{class:"option-label"},"Angle:",-1),P={class:"option"},x=Object(a["e"])("div",{class:"option-label"},"Colorize:",-1),C={class:"option"},S=Object(a["e"])("div",{class:"option-label"},"Show limits only:",-1),k={class:"calc-button"},T={class:"number-nodes-positioner"},V={class:"number-nodes"},L=Object(a["e"])("span",{class:"number-nodes-label"}," nodes",-1);Object(a["j"])();var M=c((function(e,t,n,r,c,M){var B=Object(a["n"])("Button"),N=Object(a["n"])("InputNumber"),A=Object(a["n"])("Slider"),I=Object(a["n"])("Checkbox"),F=Object(a["n"])("ProgressBar");return Object(a["i"])(),Object(a["b"])("div",o,[Object(a["e"])("div",i,[Object(a["e"])("canvas",l,null,512)]),Object(a["e"])("div",{class:["actions-wrapper",{"action-shown":e.showActions}]},[Object(a["e"])("div",s,[!e.calculating&&e.calculated&&!e.showActions&&e.isSmallScreen?(Object(a["i"])(),Object(a["b"])(B,{key:0,label:"Export",onClick:t[1]||(t[1]=function(t){return e.handleExport()})})):Object(a["c"])("",!0),Object(a["e"])("div",u,[Object(a["e"])("i",{class:"pi pi-bars",onClick:t[2]||(t[2]=function(t){return e.handleToggleActions()})})])]),e.showActions?(Object(a["i"])(),Object(a["b"])("div",d,[Object(a["e"])("div",b,[Object(a["e"])("i",{class:"pi pi-times-circle",onClick:t[3]||(t[3]=function(t){return e.handleToggleActions()})})]),h,Object(a["e"])("div",p,[Object(a["e"])("div",m,[f,Object(a["e"])(N,{modelValue:e.treeParams.numberBranches,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.treeParams.numberBranches=t}),showButtons:"",min:2,max:5,disabled:e.calculating},null,8,["modelValue","disabled"])]),Object(a["e"])("div",v,[O,Object(a["e"])(N,{modelValue:e.treeParams.maxLevels,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.treeParams.maxLevels=t}),showButtons:"",min:2,max:20,disabled:e.calculating},null,8,["modelValue","disabled"])]),Object(a["e"])("div",j,[g,Object(a["e"])("div",null,Object(a["p"])(e.treeParams.branchFactor),1),Object(a["e"])(A,{modelValue:e.treeParams.branchFactor,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.treeParams.branchFactor=t}),step:.05,min:.1,max:1,disabled:e.calculating},null,8,["modelValue","step","min","max","disabled"])]),Object(a["e"])("div",y,[w,Object(a["e"])(N,{modelValue:e.angleInDegree,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.angleInDegree=t}),showButtons:"",min:1,max:180,disabled:e.calculating},null,8,["modelValue","disabled"])]),Object(a["e"])("div",P,[x,Object(a["e"])(I,{modelValue:e.treeParams.colorize,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.treeParams.colorize=t}),binary:!0,disabled:e.calculating},null,8,["modelValue","disabled"])]),Object(a["e"])("div",C,[S,Object(a["e"])(I,{modelValue:e.treeParams.showLimitsOnly,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.treeParams.showLimitsOnly=t}),binary:!0,disabled:e.calculating},null,8,["modelValue","disabled"])])]),Object(a["e"])("div",k,[Object(a["e"])(B,{class:"p-mr-2 p-button-success",label:"Calculate!",loading:e.calculating,onClick:t[10]||(t[10]=function(t){return e.handleCalculate()})},null,8,["loading"]),e.calculating?(Object(a["i"])(),Object(a["b"])(B,{key:0,class:"p-button-danger",label:"Stop",onClick:t[11]||(t[11]=function(t){return e.handleStop()})})):Object(a["c"])("",!0),!e.calculating&&e.calculated?(Object(a["i"])(),Object(a["b"])(B,{key:1,label:"Export",onClick:t[12]||(t[12]=function(t){return e.handleExport()})})):Object(a["c"])("",!0)]),Object(a["e"])("div",T,[Object(a["e"])("span",V,Object(a["p"])(e.numberNodes),1),L]),Object(a["e"])("div",null,[e.calculating?(Object(a["i"])(),Object(a["b"])(F,{key:0,class:"p-mt-2",value:e.progress},null,8,["value"])):Object(a["c"])("",!0)])])):Object(a["c"])("",!0)],2)])})),B=(n("d3b7"),n("9ab4")),N=function(){function e(e,t){this.x=e,this.y=t}return e}(),A=function(){function e(e,t,n){this.childNodes=[],this.point=e,this.level=t,this.childNodes=n||[]}return e}(),I=function(){function e(){this.startingPoint=new N(0,100),this.angle=30/360*2*Math.PI,this.numberBranches=2,this.branchFactor=.75,this.maxLevels=10,this.colorize=!1,this.showLimitsOnly=!1}return e}(),F=(n("159b"),function(){function e(){}return e.prototype.calculate=function(e){return this.recCalc({prev:null,cur:new A(e.startingPoint,0),p:e})},e.prototype.paint=function(e,t,n,a){a.showLimitsOnly?this.paintLimitNodes(e,t,n,a):this.paintBranches(e,t,n,a)},e.prototype.paintLimitNodes=function(e,t,n,a){var r=this;e.level<a.maxLevels-1||e.childNodes.forEach((function(c){a.colorize&&(t.fillStyle="hsl("+r.transformValueToHue(e.level,a.maxLevels)+", 50%, 50%)"),t.fillRect.apply(t,Object(B["c"])(r.transToCanvasCoords(c.point,n),[1,1]))}))},e.prototype.paintBranches=function(e,t,n,a){var r=this;e.childNodes.forEach((function(c){t.beginPath(),a.colorize&&(t.strokeStyle="hsl("+r.transformValueToHue(e.level,a.maxLevels)+", 50%, 50%)"),null===t||void 0===t||t.moveTo.apply(t,Object(B["c"])(r.transToCanvasCoords(e.point,n))),null===t||void 0===t||t.lineTo.apply(t,Object(B["c"])(r.transToCanvasCoords(c.point,n))),t.stroke()}))},e.prototype.transformValueToHue=function(e,t){return 240*(1-e/t)},e.prototype.transToCanvasCoords=function(e,t){return[t.width/2+e.x,t.height-e.y]},e.prototype.recCalc=function(e){var t,n,a,r,c,o,i,l,s,u,d,b,h,p,m=e.prev,f=e.cur,v=e.p;return Object(B["b"])(this,(function(e){switch(e.label){case 0:for(m=null!==m&&void 0!==m?m:new A(new N(0,0),f.level-1),t=this.addPoints(f.point,this.multiplyScalar(-1,m.point)),n=v.numberBranches-1,a=n*v.angle,r=Math.PI/2-.5*(Math.PI-a),c=this.multiplyScalar(v.branchFactor,this.rotate(t,-r)),o=[],i=0;i<v.numberBranches;i++)l=this.rotate(c,i*v.angle),o.push(new A(this.addPoints(f.point,l),f.level+1));return[4,new A(f.point,f.level,o)];case 1:if(e.sent(),!(f.level+1<v.maxLevels))return[3,9];e.label=2;case 2:e.trys.push([2,7,8,9]),s=Object(B["d"])(o),u=s.next(),e.label=3;case 3:return u.done?[3,6]:(d=u.value,[5,Object(B["d"])(this.recCalc({prev:f,cur:d,p:v}))]);case 4:e.sent(),e.label=5;case 5:return u=s.next(),[3,3];case 6:return[3,9];case 7:return b=e.sent(),h={error:b},[3,9];case 8:try{u&&!u.done&&(p=s.return)&&p.call(s)}finally{if(h)throw h.error}return[7];case 9:return[2]}}))},e.prototype.rotate=function(e,t){return new N(e.x*Math.cos(t)-e.y*Math.sin(t),e.x*Math.sin(t)+e.y*Math.cos(t))},e.prototype.addPoints=function(e,t){return new N(e.x+t.x,e.y+t.y)},e.prototype.multiplyScalar=function(e,t){return new N(e*t.x,e*t.y)},e}()),E=new F,_=Object(a["f"])({name:"FractalTrees",data:function(){return{tree:new A(new N(0,0),-1),treeParams:new I,calculating:!1,interrupted:!1,progress:0,calculated:!1,showActions:!0,isSmallScreen:!0}},created:function(){this.initMediaListener()},computed:{numberNodes:function(){return(new Intl.NumberFormat).format(this.computeNumberNodes())},angleInDegree:{get:function(){return Math.round(180*this.treeParams.angle/Math.PI)},set:function(e){this.treeParams.angle=e*Math.PI/180}}},methods:{initMediaListener:function(){var e=this,t="(min-width: 1000px)",n=window.matchMedia(t);this.isSmallScreen=!n.matches,n.addEventListener("change",(function(t){e.isSmallScreen=!t.matches,t.matches&&(e.showActions=!0)}))},handleToggleActions:function(){this.showActions=!this.showActions},computeNumberNodes:function(){return(1-Math.pow(this.treeParams.numberBranches,this.treeParams.maxLevels))/(1-this.treeParams.numberBranches)},handleStop:function(){this.interrupted=!0},handleExport:function(){var e=this.$refs.canvas.toDataURL(),t=document.createElement("a");t.setAttribute("href",e),document.body.appendChild(t),t.download="fractal-tree",t.click(),document.body.removeChild(t)},handleCalculate:function(){return Object(B["a"])(this,void 0,void 0,(function(){var e,t,n,a,r,c,o,i;return Object(B["b"])(this,(function(l){switch(l.label){case 0:return this.calculating=!0,this.interrupted=!1,e=this.$refs.canvas,t=e.getContext("2d"),z(e),n=(new Date).getTime(),a=E.calculate(this.treeParams),this.progress=0,c=0,o=this.computeNumberNodes(),[4,U()];case 1:l.sent(),l.label=2;case 2:return(r=a.next()).done?[3,5]:(E.paint(r.value,t,e,this.treeParams),i=(new Date).getTime(),i-n>500?[4,U()]:[3,4]);case 3:l.sent(),n=i,l.label=4;case 4:return this.interrupted?[3,5]:(c++,this.progress=Math.floor(100*c/o),[3,2]);case 5:return null===t||void 0===t||t.stroke(),this.calculating=!1,this.calculated=!0,this.isSmallScreen&&(this.showActions=!1),[2]}}))}))}}});function U(){return new Promise((function(e){return setTimeout((function(){return e()}))}))}function z(e){var t=e.getContext("2d");null===t||void 0===t||t.clearRect(0,0,e.width,e.height),null===t||void 0===t||t.beginPath()}n("86e0");_.render=M,_.__scopeId="data-v-edf9c59a";var D=_,H=Object(a["f"])({name:"App",components:{FractalTrees:D}});n("b7f7");H.render=r;var R=H,J=n("9319"),$=(n("098b"),n("e1ae"),n("4121"),n("bddf"),n("bb57")),q=n("3822"),G=n("14f2"),K=n("2052"),Q=n("c045"),W=Object(a["a"])(R);W.use(J["a"]),W.component("Button",$["a"]),W.component("InputNumber",q["a"]),W.component("Slider",G["a"]),W.component("Checkbox",K["a"]),W.component("ProgressBar",Q["a"]),W.mount("#app")}});
//# sourceMappingURL=app.73afd060.js.map