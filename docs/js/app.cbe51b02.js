(function(e){function t(t){for(var a,c,l=t[0],i=t[1],s=t[2],d=0,b=[];d<l.length;d++)c=l[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&b.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(b.length)b.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var i=n[l];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/fractal-trees/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"20a6":function(e,t,n){},"2cbe":function(e,t,n){},"5bac":function(e,t,n){"use strict";n("20a6")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(e,t,n,r,o,c){var l=Object(a["m"])("FractalTrees");return Object(a["h"])(),Object(a["b"])(l)}var o=Object(a["r"])("data-v-e45e4df4");Object(a["j"])("data-v-e45e4df4");var c={class:"content-container"},l={class:"canvas-container"},i={ref:"canvas",width:"800",height:"500"},s={class:"actions"},u=Object(a["d"])("div",{class:"main-title"},"Fractal Tree",-1),d={class:"options"},b={class:"option"},p=Object(a["d"])("div",{class:"option-label"},"Branches:",-1),h={class:"option"},m=Object(a["d"])("div",{class:"option-label"},"Levels:",-1),f={class:"option"},v=Object(a["d"])("div",{class:"option-label"},"Shrinking factor:",-1),O={class:"option"},j=Object(a["d"])("div",{class:"option-label"},"Angle:",-1),y={class:"option"},g=Object(a["d"])("div",{class:"option-label"},"Colorize:",-1),w={class:"option"},P=Object(a["d"])("div",{class:"option-label"},"Show limits only:",-1),x={class:"calc-button"},C={class:"number-nodes-positioner"},V={class:"number-nodes"},T=Object(a["d"])("span",{class:"number-nodes-label"}," nodes",-1);Object(a["i"])();var S=o((function(e,t,n,r,o,S){var L=Object(a["m"])("InputNumber"),M=Object(a["m"])("Slider"),B=Object(a["m"])("Checkbox"),k=Object(a["m"])("Button");return Object(a["h"])(),Object(a["b"])("div",c,[Object(a["d"])("div",l,[Object(a["d"])("canvas",i,null,512)]),Object(a["d"])("div",s,[u,Object(a["d"])("div",d,[Object(a["d"])("div",b,[p,Object(a["d"])(L,{modelValue:e.treeParams.numberBranches,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.treeParams.numberBranches=t}),showButtons:"",min:2,max:5},null,8,["modelValue"])]),Object(a["d"])("div",h,[m,Object(a["d"])(L,{modelValue:e.treeParams.maxLevels,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.treeParams.maxLevels=t}),showButtons:"",min:2,max:20},null,8,["modelValue"])]),Object(a["d"])("div",f,[v,Object(a["d"])("div",null,Object(a["o"])(e.treeParams.branchFactor),1),Object(a["d"])(M,{modelValue:e.treeParams.branchFactor,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.treeParams.branchFactor=t}),step:.05,min:.1,max:1},null,8,["modelValue","step","min","max"])]),Object(a["d"])("div",O,[j,Object(a["d"])(L,{modelValue:e.angleInDegree,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.angleInDegree=t}),showButtons:"",min:1,max:180},null,8,["modelValue"])]),Object(a["d"])("div",y,[g,Object(a["d"])(B,{modelValue:e.treeParams.colorize,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.treeParams.colorize=t}),binary:!0},null,8,["modelValue"])]),Object(a["d"])("div",w,[P,Object(a["d"])(B,{modelValue:e.treeParams.showLimitsOnly,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.treeParams.showLimitsOnly=t}),binary:!0},null,8,["modelValue"])])]),Object(a["d"])("div",x,[Object(a["d"])(k,{class:"p-mr-2",label:"Calculate!",loading:e.calculating,onClick:t[7]||(t[7]=function(t){return e.handleCalculate()})},null,8,["loading"]),e.calculating?(Object(a["h"])(),Object(a["b"])(k,{key:0,class:"p-button-danger",label:"Stop",onClick:t[8]||(t[8]=function(t){return e.handleStop()})})):Object(a["c"])("",!0)]),Object(a["d"])("div",C,[Object(a["d"])("span",V,Object(a["o"])(e.numberNodes),1),T])])])})),L=(n("d3b7"),n("9ab4")),M=function(){function e(e,t){this.x=e,this.y=t}return e}(),B=function(){function e(e,t,n){this.childNodes=[],this.point=e,this.level=t,this.childNodes=n||[]}return e}(),k=function(){function e(){this.startingPoint=new M(0,100),this.angle=30/360*2*Math.PI,this.numberBranches=2,this.branchFactor=.75,this.maxLevels=10,this.colorize=!1,this.showLimitsOnly=!1}return e}(),I=(n("159b"),function(){function e(){}return e.prototype.calculate=function(e){return this.recCalc({prev:null,cur:new B(e.startingPoint,0),p:e})},e.prototype.paint=function(e,t,n,a){a.showLimitsOnly?this.paintLimitNodes(e,t,n,a):this.paintBranches(e,t,n,a)},e.prototype.paintLimitNodes=function(e,t,n,a){var r=this;e.level<a.maxLevels-1||e.childNodes.forEach((function(o){a.colorize&&(t.fillStyle="hsl("+r.transformValueToHue(e.level,a.maxLevels)+", 50%, 50%)"),t.fillRect.apply(t,Object(L["c"])(r.transToCanvasCoords(o.point,n),[1,1]))}))},e.prototype.paintBranches=function(e,t,n,a){var r=this;e.childNodes.forEach((function(o){a.colorize&&(t.beginPath(),t.strokeStyle="hsl("+r.transformValueToHue(e.level,a.maxLevels)+", 50%, 50%)"),null===t||void 0===t||t.moveTo.apply(t,Object(L["c"])(r.transToCanvasCoords(e.point,n))),null===t||void 0===t||t.lineTo.apply(t,Object(L["c"])(r.transToCanvasCoords(o.point,n))),t.stroke()}))},e.prototype.transformValueToHue=function(e,t){return 240*(1-e/t)},e.prototype.transToCanvasCoords=function(e,t){return[t.width/2+e.x,t.height-e.y]},e.prototype.recCalc=function(e){var t,n,a,r,o,c,l,i,s,u,d,b,p,h,m=e.prev,f=e.cur,v=e.p;return Object(L["b"])(this,(function(e){switch(e.label){case 0:for(m=null!==m&&void 0!==m?m:new B(new M(0,0),f.level-1),t=this.addPoints(f.point,this.multiplyScalar(-1,m.point)),n=v.numberBranches-1,a=n*v.angle,r=Math.PI/2-.5*(Math.PI-a),o=this.multiplyScalar(v.branchFactor,this.rotate(t,-r)),c=[],l=0;l<v.numberBranches;l++)i=this.rotate(o,l*v.angle),c.push(new B(this.addPoints(f.point,i),f.level+1));return[4,new B(f.point,f.level,c)];case 1:if(e.sent(),!(f.level+1<v.maxLevels))return[3,9];e.label=2;case 2:e.trys.push([2,7,8,9]),s=Object(L["d"])(c),u=s.next(),e.label=3;case 3:return u.done?[3,6]:(d=u.value,[5,Object(L["d"])(this.recCalc({prev:f,cur:d,p:v}))]);case 4:e.sent(),e.label=5;case 5:return u=s.next(),[3,3];case 6:return[3,9];case 7:return b=e.sent(),p={error:b},[3,9];case 8:try{u&&!u.done&&(h=s.return)&&h.call(s)}finally{if(p)throw p.error}return[7];case 9:return[2]}}))},e.prototype.rotate=function(e,t){return new M(e.x*Math.cos(t)-e.y*Math.sin(t),e.x*Math.sin(t)+e.y*Math.cos(t))},e.prototype.addPoints=function(e,t){return new M(e.x+t.x,e.y+t.y)},e.prototype.multiplyScalar=function(e,t){return new M(e*t.x,e*t.y)},e}()),N=new I,F=Object(a["e"])({name:"FractalTrees",data:function(){return{tree:new B(new M(0,0),-1),treeParams:new k,calculating:!1,interrupted:!1}},computed:{numberNodes:function(){return(new Intl.NumberFormat).format(Math.pow(this.treeParams.numberBranches,this.treeParams.maxLevels))},angleInDegree:{get:function(){return Math.round(180*this.treeParams.angle/Math.PI)},set:function(e){this.treeParams.angle=e*Math.PI/180}}},methods:{handleStop:function(){this.interrupted=!0},handleCalculate:function(){return Object(L["a"])(this,void 0,void 0,(function(){var e,t,n,a,r,o;return Object(L["b"])(this,(function(c){switch(c.label){case 0:this.calculating=!0,this.interrupted=!1,e=this.$refs.canvas,t=e.getContext("2d"),_(e),null===t||void 0===t||t.beginPath(),n=(new Date).getTime(),a=N.calculate(this.treeParams),c.label=1;case 1:return(r=a.next()).done?[3,4]:(N.paint(r.value,t,e,this.treeParams),o=(new Date).getTime(),o-n>500?[4,new Promise((function(e){return setTimeout((function(){return e()}))}))]:[3,3]);case 2:c.sent(),n=o,c.label=3;case 3:return this.interrupted?[3,4]:[3,1];case 4:return null===t||void 0===t||t.stroke(),this.calculating=!1,[2]}}))}))}}});function _(e){var t=e.getContext("2d");null===t||void 0===t||t.clearRect(0,0,e.width,e.height),null===t||void 0===t||t.beginPath()}n("f17d");F.render=S,F.__scopeId="data-v-e45e4df4";var z=F,U=Object(a["e"])({name:"App",components:{FractalTrees:z}});n("5bac");U.render=r;var D=U,H=n("9319"),A=(n("098b"),n("e1ae"),n("4121"),n("bddf"),n("bb57")),E=n("3822"),J=n("14f2"),R=n("2052"),$=Object(a["a"])(D);$.use(H["a"]),$.component("Button",A["a"]),$.component("InputNumber",E["a"]),$.component("Slider",J["a"]),$.component("Checkbox",R["a"]),$.mount("#app")},f17d:function(e,t,n){"use strict";n("2cbe")}});
//# sourceMappingURL=app.cbe51b02.js.map