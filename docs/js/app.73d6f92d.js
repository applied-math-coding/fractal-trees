(function(e){function t(t){for(var r,o,l=t[0],i=t[1],s=t[2],d=0,b=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&b.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(b.length)b.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,l=1;l<n.length;l++){var i=n[l];0!==a[i]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/fractal-trees/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"20a6":function(e,t,n){},"5bac":function(e,t,n){"use strict";n("20a6")},"84eb":function(e,t,n){"use strict";n("cf1b")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(e,t,n,a,c,o){var l=Object(r["m"])("FractalTrees");return Object(r["h"])(),Object(r["b"])(l)}var c=Object(r["r"])("data-v-27d906fc");Object(r["j"])("data-v-27d906fc");var o={class:"content-container"},l={class:"canvas-container"},i={ref:"canvas",width:"800",height:"500"},s={class:"actions"},u=Object(r["d"])("div",{class:"main-title"},"Fractal Tree",-1),d={class:"options"},b={class:"option"},p=Object(r["d"])("div",{class:"option-label"},"Branches:",-1),h={class:"option"},f=Object(r["d"])("div",{class:"option-label"},"Levels:",-1),m={class:"option"},v=Object(r["d"])("div",{class:"option-label"},"Shrinking factor:",-1),O={class:"option"},j=Object(r["d"])("div",{class:"option-label"},"Angle:",-1),g={class:"calc-button"},y={class:"number-nodes-positioner"},w={class:"number-nodes"},P=Object(r["d"])("span",{class:"number-nodes-label"}," nodes",-1);Object(r["i"])();var x=c((function(e,t,n,a,c,x){var C=Object(r["m"])("InputNumber"),M=Object(r["m"])("Slider"),S=Object(r["m"])("Button");return Object(r["h"])(),Object(r["b"])("div",o,[Object(r["d"])("div",l,[Object(r["d"])("canvas",i,null,512)]),Object(r["d"])("div",s,[u,Object(r["d"])("div",d,[Object(r["d"])("div",b,[p,Object(r["d"])(C,{modelValue:e.treeParams.numberBranches,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.treeParams.numberBranches=t}),showButtons:"",min:2,max:5},null,8,["modelValue"])]),Object(r["d"])("div",h,[f,Object(r["d"])(C,{modelValue:e.treeParams.maxLevels,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.treeParams.maxLevels=t}),showButtons:"",min:2,max:20},null,8,["modelValue"])]),Object(r["d"])("div",m,[v,Object(r["d"])("div",null,Object(r["o"])(e.treeParams.branchFactor),1),Object(r["d"])(M,{modelValue:e.treeParams.branchFactor,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.treeParams.branchFactor=t}),step:.05,min:.1,max:1},null,8,["modelValue","step","min","max"])]),Object(r["d"])("div",O,[j,Object(r["d"])(C,{modelValue:e.angleInDegree,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.angleInDegree=t}),showButtons:"",min:1,max:180},null,8,["modelValue"])])]),Object(r["d"])("div",g,[Object(r["d"])(S,{class:"p-mr-2",label:"Calculate!",loading:e.calculating,onClick:t[5]||(t[5]=function(t){return e.handleCalculate()})},null,8,["loading"]),e.calculating?(Object(r["h"])(),Object(r["b"])(S,{key:0,class:"p-button-danger",label:"Stop",onClick:t[6]||(t[6]=function(t){return e.handleStop()})})):Object(r["c"])("",!0)]),Object(r["d"])("div",y,[Object(r["d"])("span",w,Object(r["o"])(e.numberNodes),1),P])])])})),C=(n("d3b7"),n("9ab4")),M=function(){function e(e,t){this.x=e,this.y=t}return e}(),S=function(){function e(e,t){this.childNodes=[],this.point=e,this.childNodes=t||[]}return e}(),T=function(){function e(){this.startingPoint=new M(0,100),this.angle=30/360*2*Math.PI,this.numberBranches=2,this.branchFactor=.75,this.maxLevels=10}return e}(),B=(n("159b"),function(){function e(){}return e.prototype.calculate=function(e){return this.recCalc({prev:null,cur:new S(e.startingPoint),p:e,level:0})},e.prototype.paint=function(e,t,n){var r=this;e.childNodes.forEach((function(a){null===t||void 0===t||t.moveTo.apply(t,Object(C["c"])(r.transToCanvasCoords(e.point,n))),null===t||void 0===t||t.lineTo.apply(t,Object(C["c"])(r.transToCanvasCoords(a.point,n)))}))},e.prototype.transToCanvasCoords=function(e,t){return[t.width/2+e.x,t.height-e.y]},e.prototype.recCalc=function(e){var t,n,r,a,c,o,l,i,s,u,d,b,p,h,f=e.prev,m=e.cur,v=e.p,O=e.level;return Object(C["b"])(this,(function(e){switch(e.label){case 0:for(f=null!==f&&void 0!==f?f:new S(new M(0,0)),t=this.addPoints(m.point,this.multiplyScalar(-1,f.point)),n=v.numberBranches-1,r=n*v.angle,a=Math.PI/2-.5*(Math.PI-r),c=this.multiplyScalar(v.branchFactor,this.rotate(t,-a)),o=[],l=0;l<v.numberBranches;l++)i=this.rotate(c,l*v.angle),o.push(new S(this.addPoints(m.point,i)));return[4,new S(m.point,o)];case 1:if(e.sent(),!(O+1<v.maxLevels))return[3,9];e.label=2;case 2:e.trys.push([2,7,8,9]),s=Object(C["d"])(o),u=s.next(),e.label=3;case 3:return u.done?[3,6]:(d=u.value,[5,Object(C["d"])(this.recCalc({prev:m,cur:d,p:v,level:O+1}))]);case 4:e.sent(),e.label=5;case 5:return u=s.next(),[3,3];case 6:return[3,9];case 7:return b=e.sent(),p={error:b},[3,9];case 8:try{u&&!u.done&&(h=s.return)&&h.call(s)}finally{if(p)throw p.error}return[7];case 9:return[2]}}))},e.prototype.rotate=function(e,t){return new M(e.x*Math.cos(t)-e.y*Math.sin(t),e.x*Math.sin(t)+e.y*Math.cos(t))},e.prototype.addPoints=function(e,t){return new M(e.x+t.x,e.y+t.y)},e.prototype.multiplyScalar=function(e,t){return new M(e*t.x,e*t.y)},e}()),I=new B,V=Object(r["e"])({name:"FractalTrees",data:function(){return{tree:new S(new M(0,0)),treeParams:new T,calculating:!1,interrupted:!1}},computed:{numberNodes:function(){return(new Intl.NumberFormat).format(Math.pow(this.treeParams.numberBranches,this.treeParams.maxLevels))},angleInDegree:{get:function(){return Math.round(180*this.treeParams.angle/Math.PI)},set:function(e){this.treeParams.angle=e*Math.PI/180}}},methods:{handleStop:function(){this.interrupted=!0},handleCalculate:function(){return Object(C["a"])(this,void 0,void 0,(function(){var e,t,n,r,a,c;return Object(C["b"])(this,(function(o){switch(o.label){case 0:this.calculating=!0,this.interrupted=!1,e=this.$refs.canvas,t=e.getContext("2d"),F(e),null===t||void 0===t||t.beginPath(),n=(new Date).getTime(),r=I.calculate(this.treeParams),o.label=1;case 1:return(a=r.next()).done?[3,4]:(I.paint(a.value,t,e),c=(new Date).getTime(),c-n>500?[4,new Promise((function(e){return setTimeout((function(){return e()}))}))]:[3,3]);case 2:o.sent(),n=c,o.label=3;case 3:return this.interrupted?[3,4]:[3,1];case 4:return null===t||void 0===t||t.stroke(),this.calculating=!1,[2]}}))}))}}});function F(e){var t=e.getContext("2d");null===t||void 0===t||t.clearRect(0,0,e.width,e.height),null===t||void 0===t||t.beginPath()}n("84eb");V.render=x,V.__scopeId="data-v-27d906fc";var k=V,N=Object(r["e"])({name:"App",components:{FractalTrees:k}});n("5bac");N.render=a;var _=N,L=n("9319"),D=(n("098b"),n("e1ae"),n("4121"),n("bddf"),n("bb57")),U=n("3822"),A=n("14f2"),J=Object(r["a"])(_);J.use(L["a"]),J.component("Button",D["a"]),J.component("InputNumber",U["a"]),J.component("Slider",A["a"]),J.mount("#app")},cf1b:function(e,t,n){}});
//# sourceMappingURL=app.73d6f92d.js.map